// Wave configuration for cross-platform container handling
wave {
    enabled = true
    strategy = ['conda', 'container']
}

// Profiles for different environments
profiles {
    // MacOS/Local development profile
    mac {
        process.executor = 'local'
        docker.enabled = true
        singularity.enabled = false
        
        process {
            cpus = 1
            memory = 4.GB
        }
    }
    
    // HPC profile with Singularity
    hpc {
        process.executor = 'slurm'
        docker.enabled = false
        singularity.enabled = true
        singularity.autoMounts = true
        singularity.cacheDir = '/shared/singularity/cache'
        
        process {
            queue = 'your-queue-name'
            cpus = 8
            memory = 16.GB
            time = '4h'
            
            resourceLimits = [
                memory: 750.GB,
                cpus: 200,
                time: 30.d
            ]
        }
    }
}
params {
  species = 'K_pneumoniae'
  genomes   = "../${params.species}/ncbi_dataset/data/*/*.fna"
  roll = "/genomes/${params.species}.csv"
  window    = 25
  threshold = [1.4, 2.0]
  g4script  = 'scripts/main.py'
  g4dataproc = 'scripts/secondary.py'
  g4mergenappend = "scripts/g4mergenappend.py"
  thresh_value = 1.4
}
